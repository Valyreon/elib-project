<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Components="clr-namespace:ElibWpf.CustomComponents"
    xmlns:Converters="clr-namespace:ElibWpf.Converters"
    xmlns:MetroControls="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:fa="http://schemas.fontawesome.io/icons/">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary>
            <Converters:ImageConverter x:Key="ImageConverter" />
        </ResourceDictionary>
    </ResourceDictionary.MergedDictionaries>

    <Style TargetType="{x:Type Components:TextBoxWithSymbol}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Components:TextBoxWithSymbol}">
                    <Border
                        x:Name="TheBorder"
                        Margin="{TemplateBinding Margin}"
                        Components:UI.Elevation="0"
                        BorderBrush="LightGray"
                        BorderThickness="1"
                        CornerRadius="0">
                        <Grid Width="{TemplateBinding Width}" Height="{TemplateBinding Height}">
                            <TextBox
                                x:Name="SearchBox"
                                Width="{TemplateBinding Width}"
                                Height="{TemplateBinding Height}"
                                Padding="22,0,5,0"
                                VerticalContentAlignment="Center"
                                MetroControls:TextBoxHelper.ClearTextButton="False"
                                MetroControls:TextBoxHelper.TextButton="False"
                                MetroControls:TextBoxHelper.Watermark="{TemplateBinding WatermarkText}"
                                Background="GhostWhite"
                                BorderThickness="0"
                                CaretBrush="{DynamicResource AccentColorBrush}"
                                FontSize="14"
                                Foreground="{DynamicResource BackgroundColorBrush}"
                                MaxLength="45"
                                Text="{TemplateBinding Text}">
                                <TextBox.InputBindings>
                                    <!--<KeyBinding Key="Enter" Command="{Binding SearchCommand}" />-->
                                </TextBox.InputBindings>
                            </TextBox>
                            <TextBlock
                                Width="16"
                                Margin="6,5,0,0"
                                HorizontalAlignment="Left">
                                <fa:ImageAwesome
                                    Height="16"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Foreground="Gray"
                                    Icon="{TemplateBinding IconName}" />
                            </TextBlock>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger SourceName="SearchBox" Property="IsFocused" Value="True">
                            <Setter TargetName="TheBorder" Property="Components:UI.Elevation" Value="5" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type Components:SymbolButton}">
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Components:SymbolButton">
                    <Grid
                        x:Name="Enveloper"
                        Width="{TemplateBinding Width}"
                        Height="{TemplateBinding Height}">
                        <fa:ImageAwesome
                            x:Name="AweImg"
                            Width="{TemplateBinding IconSize}"
                            Height="{TemplateBinding IconSize}"
                            Foreground="{TemplateBinding Foreground}"
                            Icon="{TemplateBinding IconName}"
                            RenderTransformOrigin="0.5,0.5">
                            <fa:ImageAwesome.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </fa:ImageAwesome.RenderTransform>
                        </fa:ImageAwesome>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <EventTrigger RoutedEvent="MouseDown" SourceName="Enveloper">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation
                                        Storyboard.TargetName="AweImg"
                                        Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                        To="0.9"
                                        Duration="0:0:0.1" />
                                    <DoubleAnimation
                                        Storyboard.TargetName="AweImg"
                                        Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                        To="0.9"
                                        Duration="0:0:0.1" />
                                    <DoubleAnimation
                                        BeginTime="0:0:0.1"
                                        Storyboard.TargetName="AweImg"
                                        Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                        To="1"
                                        Duration="0:0:0.1" />
                                    <DoubleAnimation
                                        BeginTime="0:0:0.1"
                                        Storyboard.TargetName="AweImg"
                                        Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                        To="1"
                                        Duration="0:0:0.1" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type Components:BookTile}">
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Components:BookTile}">
                    <StackPanel
                        x:Name="BookContainer"
                        Margin="15,15,15,15"
                        HorizontalAlignment="Left"
                        Opacity="0"
                        Orientation="Vertical"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        RenderOptions.ClearTypeHint="Enabled"
                        TextOptions.TextRenderingMode="ClearType">
                        <StackPanel.Style>
                            <Style TargetType="StackPanel">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Cursor" Value="Hand" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </StackPanel.Style>
                        <Border
                            x:Name="TileBorder"
                            BorderBrush="LightGray"
                            BorderThickness="1">
                            <MetroControls:Tile
                                x:Name="TheTile"
                                Width="164"
                                Height="262"
                                Background="GhostWhite"
                                TitleFontSize="14">
                                <Grid>
                                    <Image
                                        x:Name="BackgroundImage"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Panel.ZIndex="100"
                                        Source="{Binding Cover, Converter={StaticResource ImageConverter}}"
                                        Stretch="Fill" />
                                </Grid>
                            </MetroControls:Tile>
                        </Border>
                        <TextBlock
                            Name="Title"
                            Width="175"
                            HorizontalAlignment="Left"
                            FontSize="14"
                            Foreground="Black"
                            Text="{TemplateBinding Title}"
                            TextOptions.TextHintingMode="Fixed"
                            TextTrimming="CharacterEllipsis" />
                        <TextBlock
                            Width="175"
                            HorizontalAlignment="Left"
                            FontSize="12"
                            Foreground="Gray"
                            Text="{TemplateBinding Authors}"
                            TextOptions.TextHintingMode="Fixed" />
                        <TextBlock
                            Width="175"
                            HorizontalAlignment="Left"
                            FontSize="12"
                            Foreground="Gray"
                            Text="{TemplateBinding SeriesInfo}"
                            TextOptions.TextHintingMode="Fixed" />
                    </StackPanel>
                    <ControlTemplate.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation
                                        Storyboard.TargetName="BookContainer"
                                        Storyboard.TargetProperty="Opacity"
                                        To="1"
                                        Duration="0:0:0.6" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>


</ResourceDictionary>